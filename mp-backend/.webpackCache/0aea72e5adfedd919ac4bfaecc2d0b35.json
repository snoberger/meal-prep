{"remainingRequest":"A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\src\\handlers\\auth.ts","dependencies":[{"path":"A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\src\\handlers\\auth.ts","mtime":1603405264229},{"path":"A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\.babelrc","mtime":1603407518765},{"path":"A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"A:\\Tyler\\Workspace\\Projects\\meal-prep\\mp-backend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmltcG9ydCBkeW5hbW9MaWIgZnJvbSAnLi4vbGlicy9keW5hbW9kYi1saWInOwoKZnVuY3Rpb24gaXNBdXRoRXZlbnRCb2R5KGRhdGEpIHsKICByZXR1cm4gJ3VzZXJJZCcgaW4gZGF0YSAmJiAndXNlcnBhc3MnIGluIGRhdGEgJiYgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09IDI7Cn0KCmV4cG9ydCB2YXIgY3JlYXRlVXNlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXZlbnQpIHsKICAgIHZhciBkYXRhLCBwYXJhbXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKGV2ZW50ICYmIGV2ZW50LmJvZHkpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmJvZHkpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgLy8gVE9ETzogY29ycmVjdCBzdGF0dXMgY29kZQogICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQwNCwKICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnZmFpbHVyZScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlmIChpc0F1dGhFdmVudEJvZHkoZGF0YSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQwNCwKICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnZmFpbHVyZScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGRhdGEuY3JlYXRlVHMgPSBEYXRlLm5vdygpOwogICAgICAgICAgICBkYXRhLnVwZGF0ZVRzID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgIFRhYmxlTmFtZTogJ2F1dGgnLAogICAgICAgICAgICAgIEl0ZW06IGRhdGEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICByZXR1cm4gZHluYW1vTGliLnB1dChwYXJhbXMpOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDEsCiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBjcmVhdGVVc2VyKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTs="},null]}